(()=>{"use strict";class t{constructor(t){this.description=t,this.isDone=!1}getDescription=()=>this.description}class e{constructor(t){this.title=t,this.tasks=[]}add=t=>{this.tasks.push(t)};remove=t=>{this.tasks.pop(t)};toString=()=>this.tasks.toString();getTitle=()=>this.title;getTasks=()=>this.tasks;setTitle=t=>this.title=t}const s=document.getElementById("formCreateTask"),n=document.getElementById("lists"),c=document.getElementById("overlay"),o=document.getElementById("formCreateList"),i=document.getElementById("buttonCreateNewList"),a=document.getElementById("buttonAddTask");document.getElementById("inputTask"),i.onclick=()=>{o.classList.add("active"),c.classList.add("active")},a.onclick=()=>{const e=document.getElementById("description").value;if(""!=e.value){const s=g();return s.add(new t(e)),console.log(s),L().innerHTML="",h(s).forEach((t=>{L().append(t)})),void console.log(g)}alert("the task field is empty")},c.onclick=()=>{o.classList.remove("active"),c.classList.remove("active"),document.getElementsByClassName("currentList")[0].classList.remove("currentList"),s.remove()};const l=[],d=new e("list one"),r=new e("list two"),m=new t("nothing to do yet"),u=new t("same");d.add(m),d.add(u),l.push(d),l.push(r);const p=t=>{t.onclick=()=>{t.classList.add("currentList"),c.classList.add("active"),null==document.querySelector(".currentList #formCreateTask")&&t.getElementsByClassName("tasks")[0].append(s)}},k=t=>{const e=document.createElement("div");return e.classList.add("title"),e.textContent=t.title,e},h=t=>{const e=[];console.log(t.tasks);for(const s of t.tasks){let n=document.createElement("p"),c=document.createElement("input");c.type="checkbox",c.onclick=()=>{t.remove(s),console.log("checkbox clicked"),n.remove()},n.append(c,s.description),e.push(n)}return e},g=()=>{const t=document.querySelector(".currentList .title").textContent;return l.filter((e=>e.title==t))[0]},L=()=>document.querySelector(".currentList .tasks");(()=>{n.innerHTML="";for(const t of l){let e=document.createElement("div");e.classList.add("list"),p(e);const s=document.createElement("div");s.classList.add("tasks"),h(t).forEach((t=>{s.append(t)})),e.append(k(t),s),n.append(e)}})()})();