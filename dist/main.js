(()=>{"use strict";class t{constructor(t){this.description=t,this.isDone=!1}getDescription=()=>this.description}class e{constructor(t){this.title=t,this.tasks=[]}add=t=>{this.tasks.push(t)};remove=t=>{this.tasks.pop(t)};toString=()=>this.tasks.toString();getTitle=()=>this.title;getTasks=()=>this.tasks;setTitle=t=>this.title=t}const s=document.getElementById("formCreateTask"),n=document.getElementById("lists"),c=document.getElementById("overlay"),i=document.getElementById("formCreateList"),o=document.getElementById("buttonCreateNewList"),a=document.getElementById("buttonAddTask");document.getElementById("inputTask"),o.onclick=()=>{i.classList.add("active"),c.classList.add("active")},a.onclick=()=>{let e=document.getElementById("description"),s=e.value;if(""!=s){const n=L();return n.add(new t(s)),v().innerHTML="",h(n).forEach((t=>{v().append(t)})),void(e.value="")}alert("the task field is empty")},c.onclick=()=>{i.classList.remove("active"),c.classList.remove("active"),document.getElementsByClassName("currentList")[0].classList.remove("currentList"),s.remove()};const r=[],d=new e("list one"),l=new e("list two"),m=new t("nothing to do yet"),u=new t("same");d.add(m),d.add(u),r.push(d),r.push(l);const p=t=>{t.onclick=()=>{t.classList.add("currentList"),c.classList.add("active"),null==document.querySelector(".currentList #formCreateTask")&&t.getElementsByClassName("tasks")[0].append(s)}},k=t=>{const e=document.createElement("div");return e.classList.add("title"),e.textContent=t.title,e},h=t=>{const e=[];for(const s of t.tasks){let n=document.createElement("p"),c=document.createElement("input");c.type="checkbox",c.onclick=()=>{t.remove(s),n.remove()},n.append(c,s.description),e.push(n)}return e},L=()=>{const t=document.querySelector(".currentList .title").textContent;return r.filter((e=>e.title==t))[0]},v=()=>document.querySelector(".currentList .tasks");(()=>{n.innerHTML="";for(const t of r){let e=document.createElement("div");e.classList.add("list"),p(e);const s=document.createElement("div");s.classList.add("tasks"),h(t).forEach((t=>{s.append(t)})),e.append(k(t),s),n.append(e)}})()})();