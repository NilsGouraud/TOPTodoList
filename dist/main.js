(()=>{"use strict";class t{constructor(t){this.description=t,this.isDone=!1}getDescription=()=>this.description}class e{constructor(t){this.title=t,this.tasks=[]}add=t=>{this.tasks.push(t)};remove=t=>{this.tasks.pop(t)};toString=()=>this.tasks.toString();getTitle=()=>this.title;getTasks=()=>this.tasks;setTitle=t=>this.title=t}const s=document.getElementById("formCreateTask"),n=document.getElementById("lists"),c=document.getElementById("overlay"),o=document.getElementById("formCreateList"),i=document.getElementById("buttonCreateNewList"),a=document.getElementById("buttonAddTask");document.getElementById("inputTask"),i.onclick=()=>{o.classList.add("active"),c.classList.add("active")},a.onclick=()=>{let e=document.getElementById("description"),s=e.value;if(console.log(s),""!=s){const n=L();return n.add(new t(s)),g().innerHTML="",h(n).forEach((t=>{g().append(t)})),void(e.value="")}console.log(s),alert("the task field is empty")},c.onclick=()=>{o.classList.remove("active"),c.classList.remove("active"),document.getElementsByClassName("currentList")[0].classList.remove("currentList"),s.remove()};const l=[],d=new e("list one"),r=new e("list two"),m=new t("nothing to do yet"),u=new t("same");d.add(m),d.add(u),l.push(d),l.push(r);const p=t=>{t.onclick=()=>{t.classList.add("currentList"),c.classList.add("active"),null==document.querySelector(".currentList #formCreateTask")&&t.getElementsByClassName("tasks")[0].append(s)}},k=t=>{const e=document.createElement("div");return e.classList.add("title"),e.textContent=t.title,e},h=t=>{const e=[];for(const s of t.tasks){let n=document.createElement("p"),c=document.createElement("input");n.onclick=()=>{},c.type="checkbox",c.onclick=()=>{const e=t.tasks.indexOf(s);t.tasks.splice(e,1),n.remove(),console.log(L().tasks)},n.append(c,s.description),e.push(n)}return e},L=()=>{const t=document.querySelector(".currentList .title").textContent;return l.filter((e=>e.title==t))[0]},g=()=>document.querySelector(".currentList .tasks");(()=>{n.innerHTML="";for(const t of l){let e=document.createElement("div");e.classList.add("list"),p(e);const s=document.createElement("div");s.classList.add("tasks"),h(t).forEach((t=>{s.append(t)})),e.append(k(t),s),n.append(e)}})()})();