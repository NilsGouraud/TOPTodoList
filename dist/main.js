(()=>{"use strict";class t{constructor(t){this.description=t,this.isDone=!1}getDescription=()=>this.description}class e{constructor(t){this.title=t,this.tasks=[]}add=t=>{this.tasks.push(t)};remove=t=>{this.tasks.pop(t)};toString=()=>this.tasks.toString();getTitle=()=>this.title;getTasks=()=>this.tasks;setTitle=t=>this.title=t}const s=document.getElementById("formCreateTask"),n=document.getElementById("lists"),c=document.getElementById("overlay"),o=document.getElementById("formCreateList"),i=document.getElementById("buttonCreateNewList"),a=document.getElementById("buttonAddToLists"),l=document.getElementById("buttonAddTask");document.getElementById("inputTask"),i.onclick=()=>{o.classList.add("active"),c.classList.add("active")},a.onclick=()=>{let t=document.getElementById("inputTask").value;d.push(new e(t)),k(),o.classList.remove("active"),c.classList.remove("active")},l.onclick=()=>{let e=document.getElementById("description"),s=e.value;if(console.log(s),""!=s){const n=h();return n.add(new t(s)),y().innerHTML="",g(n).forEach((t=>{y().append(t)})),void(e.value="")}console.log(s),alert("the task field is empty")},c.onclick=()=>{o.classList.remove("active"),c.classList.remove("active"),document.getElementsByClassName("currentList")[0].classList.remove("currentList"),s.remove()};const d=[],r=new e("list one"),m=new e("list two"),u=new t("nothing to do yet"),p=new t("same");r.add(u),r.add(p),d.push(r),d.push(m);const k=()=>{n.innerHTML="";for(const t of d){let e=document.createElement("div");e.classList.add("list"),v(e);const s=document.createElement("div");s.classList.add("tasks"),g(t).forEach((t=>{s.append(t)})),e.append(L(t),s),n.append(e)}},v=t=>{t.onclick=()=>{t.classList.add("currentList"),c.classList.add("active"),null==document.querySelector(".currentList #formCreateTask")&&t.getElementsByClassName("tasks")[0].append(s)}},L=t=>{const e=document.createElement("div");return e.classList.add("title"),e.textContent=t.title,e},g=t=>{const e=[];for(const s of t.tasks){let n=document.createElement("p"),c=document.createElement("input");n.onclick=()=>{},c.type="checkbox",c.onclick=()=>{const e=t.tasks.indexOf(s);t.tasks.splice(e,1),n.remove(),console.log(h().tasks)},n.append(c,s.description),e.push(n)}return e},h=()=>{const t=document.querySelector(".currentList .title").textContent;return d.filter((e=>e.title==t))[0]},y=()=>document.querySelector(".currentList .tasks");k()})();